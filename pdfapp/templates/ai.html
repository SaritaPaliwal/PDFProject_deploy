{% extends "navbar.html" %}
{% load static %}

{% block title %}AI-PDFhub{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/upload1.css' %}">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"> -->
<link rel="stylesheet" href="{% static 'css/loading.css' %}">
<br><br>
<h1>AI PDF</h1><br>
<p>AI meets PDF: Summarize, translate, question, and understand with ease.</p>
<br>
<div class="center-wrapper">
  <form id="redirectForm" method="POST">
    <div class="radio-input">
      <label>
      <input type="radio" id="value-1" name="value-radio" value="value-1" >
      <span><a href="{% url 'summarization' %}">Summarization</a></span>
      </label>
      <label>
        <input type="radio" id="value-2" name="value-radio" value="value-2">
        <span><a href="{% url 'translation' %}">Translation</a></span>
      </label>
      <label>
        <input type="radio" id="value-3" name="value-radio" value="value-3">
      <span>Chat with PDF</span>
      </label>
      <span class="selection"></span>
  </div>
</form>
</div>
  
<br><br><br><br>
<!-- Messages -->
{% if messages %}
  <div class="message-container">
    {% for message in messages %}
      <div class="alert {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
{% endif %}

<form id="convertForm" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div id="uploadSection">
    <div class="container">
      <div class="folder">
        <div class="front-side"><div class="tip"></div>
        <div class="cover"></div></div>
        <div class="back-side cover"></div>
      </div>
      <label class="custom-file-upload">
        <input id="pdfInput" type="file" accept="application/pdf" name="pdf_file" />
        Choose a file
      </label>
    </div>

    <div id="loading" class="loader" style="display: none;">Loading...</div>
    <div id="pdfPreviewContainer"></div>
  </div>

</div>
</form>

<!-- PDF.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<script src="{% static 'js/upload.js' %}" defer></script>

<script>
  setTimeout(() => {
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(alert => alert.style.display = 'none');
  }, 3000); // hides after 3 seconds
</script>

{% endblock %}



